---
title: "Using OAuth Sessions"
description: "Pass OAuth session IDs to access user-authenticated integrations"
---

<Note>
**What you'll learn:**
- How to use OAuth sessions
- Combining OAuth with provider sessions
</Note>

## Using OAuth Sessions

After a user completes OAuth authorization, pass their session ID when creating MCP sessions:

<CodeGroup>
```typescript TypeScript
await metorial.withProviderSession(
    provider,
    {
        serverDeployments: [
            {
                serverDeploymentId: 'slack-deployment-id',
                oauthSessionId: storedOAuthSessionId // From your database
            }
        ]
    },
    async ({ tools, closeSession }) => {
        // Tools now have access to user's Slack
        await closeSession();
    }
);
```

```python Python
async def session_handler(session):
    # Tools now have access to user's Slack
    # Use session["tools"] and session["callTools"]
    pass

await metorial.with_provider_session(
    MetorialAnthropic,
    [
        {
            "serverDeploymentId": "slack-deployment-id",
            "oauthSessionId": stored_oauth_session_id  # From your database
        }
    ],
    session_handler
)
```
</CodeGroup>

## Multiple OAuth Sessions

Combine multiple OAuth integrations in one session:

<CodeGroup>
```typescript TypeScript
{
    serverDeployments: [
        {
            serverDeploymentId: 'github-deployment',
            oauthSessionId: githubOAuthSession
        },
        {
            serverDeploymentId: 'slack-deployment',
            oauthSessionId: slackOAuthSession
        }
    ]
}
```

```python Python
[
    {
        "serverDeploymentId": "github-deployment",
        "oauthSessionId": github_oauth_session
    },
    {
        "serverDeploymentId": "slack-deployment",
        "oauthSessionId": slack_oauth_session
    }
]
```
</CodeGroup>
